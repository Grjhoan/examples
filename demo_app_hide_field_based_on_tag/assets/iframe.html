<html>
<head>
  <meta charset="utf-8">
</head>
<body>
  <h2>Hide Ticket Sharing Field</h2>
  <p>If 'disablesharing' tag is on user profile, Sharing field is hidden.</p>
  <script type="text/javascript" src="https://assets.zendesk.com/apps/sdk/2.0/zaf_sdk.js"></script>
  <script>
    var client = ZAFClient.init();
    client.invoke('resize', { width: '100%', height: '120px' });
    client.get('currentUser').then( (userObject) => {
      console.dir(userObject);
      if (userObject.currentUser.tags.includes("disablesharing")) {
        client.invoke("ticketFields:sharedWith.hide");
      } else {
        client.invoke("ticketFields:sharedWith.show");
      }
    });
  </script>
</body>
</html>
